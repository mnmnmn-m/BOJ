a번째 항부터 b번째 항까지의 합을 구하기 위해선, 피보나치 수열의 누적합 배열 $F_n$에서 $F_b - F_{a - 1}$를 구해주면 됩니다.
a, b값이 작다면 피보나치 수열의 점화식을 통해 계산해주면 되겠지만 이 문제에선 a, b 제한이 무려 9,000,000,000,000,000,000입니다... 피보나치 배열 만들어 일일이 값 채워넣으면 메모리 / 시간초과를 피할 수 없겠죠?? 그래서 분할 정복을 이용한 행렬의 거듭제곱을 이용할 겁니다.

---

피보나치 수열의 점화식은 이렇습니다 ($f_n$은 n번째 항)

**$f_{n+1} = f_n + f_{n-1}$**

그런데, 이 선형점화식은 행렬곱의 형태로 바꿀 수 있습니다.

깃허브에선 latex 지원이 안돼서 여기 쓸 순 없지만, 검색해보시면 자료가 아주 많으니 참고하시면 좋을 겁니다.

그래서 피보나치 수열의 일반항을 구하는 코드를 분할 정복(행렬 거듭제곱을 구현할 때, 지수를 반으로 나누고 나눠서 계속 병합하는 기법)을 통해 짜주면, 무려 O($log_2 n$)만에 행렬을 n제곱해서 피보나치 수열의 값을 구할 수 있습니다!

하지만 구해야 하는 건 누적합이죠. 피보나치 수열은 그 점화식 때문에 $f_1 + f_2 + f_3 + f_4 + ... + f_n = f_{n+2} - 1$을 만족해서, 결국 다음과 같이 구할 수 있습니다.

$f_a + f_{a+1} + ... + f_b = F_b - F_{a-1} = f_{b+2} - 1 - (f_{a+1} - 1) = f_{b+2} - f_{a+1}$

네. 약간의 수학이 들어간 분할정복 문제인데 배경지식 없으면 못풀죠. 그래도 피보나치 수열 빠르게 구하는 기술 유용하니까 알아둡시다.